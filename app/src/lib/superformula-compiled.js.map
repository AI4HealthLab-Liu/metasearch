{"version":3,"sources":["superformula.js"],"names":[],"mappings":"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","file":"superformula-compiled.js","sourcesContent":["(function() {\n  var _symbol = d3.svg.symbol(),\n      _line = d3.svg.line();\n\n  d3.superformula = function() {\n    var type = _symbol.type(),\n        size = _symbol.size(),\n        segments = size,\n        params = {};\n\n    function superformula(d, i) {\n      var n, p = _superformulaTypes[type.call(this, d, i)];\n      for (n in params) p[n] = params[n].call(this, d, i);\n      return _superformulaPath(p, segments.call(this, d, i), Math.sqrt(size.call(this, d, i)));\n    }\n\n    superformula.type = function(x) {\n      if (!arguments.length) return type;\n      type = d3.functor(x);\n      return superformula;\n    };\n\n    superformula.param = function(name, value) {\n      if (arguments.length < 2) return params[name];\n      params[name] = d3.functor(value);\n      return superformula;\n    };\n\n    // size of superformula in square pixels\n    superformula.size = function(x) {\n      if (!arguments.length) return size;\n      size = d3.functor(x);\n      return superformula;\n    };\n\n    // number of discrete line segments\n    superformula.segments = function(x) {\n      if (!arguments.length) return segments;\n      segments = d3.functor(x);\n      return superformula;\n    };\n\n    return superformula;\n  };\n\n  function _superformulaPath(params, n, diameter) {\n    var i = -1,\n        dt = 2 * Math.PI / n,\n        t,\n        r = 0,\n        x,\n        y,\n        points = [];\n\n    while (++i < n) {\n      t = params.m * (i * dt - Math.PI) / 4;\n      t = Math.pow(Math.abs(Math.pow(Math.abs(Math.cos(t) / params.a), params.n2)\n        + Math.pow(Math.abs(Math.sin(t) / params.b), params.n3)), -1 / params.n1);\n      if (t > r) r = t;\n      points.push(t);\n    }\n\n    r = diameter * Math.SQRT1_2 / r;\n    i = -1; while (++i < n) {\n      x = (t = points[i] * r) * Math.cos(i * dt);\n      y = t * Math.sin(i * dt);\n      points[i] = [Math.abs(x) < 1e-6 ? 0 : x, Math.abs(y) < 1e-6 ? 0 : y];\n    }\n\n    return _line(points) + \"Z\";\n  }\n\n  var _superformulaTypes = {\n    asterisk: {m: 12, n1: .3, n2: 0, n3: 10, a: 1, b: 1},\n    bean: {m: 2, n1: 1, n2: 4, n3: 8, a: 1, b: 1},\n    butterfly: {m: 3, n1: 1, n2: 6, n3: 2, a: .6, b: 1},\n    circle: {m: 4, n1: 2, n2: 2, n3: 2, a: 1, b: 1},\n    clover: {m: 6, n1: .3, n2: 0, n3: 10, a: 1, b: 1},\n    cloverFour: {m: 8, n1: 10, n2: -1, n3: -8, a: 1, b: 1},\n    cross: {m: 8, n1: 1.3, n2: .01, n3: 8, a: 1, b: 1},\n    diamond: {m: 4, n1: 1, n2: 1, n3: 1, a: 1, b: 1},\n    drop: {m: 1, n1: .5, n2: .5, n3: .5, a: 1, b: 1},\n    ellipse: {m: 4, n1: 2, n2: 2, n3: 2, a: 9, b: 6},\n    gear: {m: 19, n1: 100, n2: 50, n3: 50, a: 1, b: 1},\n    heart: {m: 1, n1: .8, n2: 1, n3: -8, a: 1, b: .18},\n    heptagon: {m: 7, n1: 1000, n2: 400, n3: 400, a: 1, b: 1},\n    hexagon: {m: 6, n1: 1000, n2: 400, n3: 400, a: 1, b: 1},\n    malteseCross: {m: 8, n1: .9, n2: .1, n3: 100, a: 1, b: 1},\n    pentagon: {m: 5, n1: 1000, n2: 600, n3: 600, a: 1, b: 1},\n    rectangle: {m: 4, n1: 100, n2: 100, n3: 100, a: 2, b: 1},\n    roundedStar: {m: 5, n1: 2, n2: 7, n3: 7, a: 1, b: 1},\n    square: {m: 4, n1: 100, n2: 100, n3: 100, a: 1, b: 1},\n    star: {m: 5, n1: 30, n2: 100, n3: 100, a: 1, b: 1},\n    triangle: {m: 3, n1: 100, n2: 200, n3: 200, a: 1, b: 1}\n  };\n\n  d3.superformulaTypes = d3.keys(_superformulaTypes);\n})();\n"]}