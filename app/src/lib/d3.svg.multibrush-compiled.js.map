{"version":3,"sources":["d3.svg.multibrush.js"],"names":[],"mappings":"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","file":"d3.svg.multibrush-compiled.js","sourcesContent":["(function () {\n  d3.svg.multibrush = function() {\n\n    // From d3/scale/scale.js\n    function d3_scaleExtent(domain) {\n      var start = domain[0], stop = domain[domain.length - 1];\n      return start < stop ? [ start, stop ] : [ stop, start ];\n    }\n    function d3_scaleRange(scale) {\n      return scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());\n    }\n\n    // From d3\n    var d3_document = this.document;\n    function d3_documentElement(node) {\n      return node && (node.ownerDocument || node.document || node).documentElement;\n    }\n    function d3_window(node) {\n      return node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView);\n    }\n    if (d3_document) {\n      try {\n        d3_array(d3_document.documentElement.childNodes)[0].nodeType;\n      } catch (e) {\n        d3_array = function(list) {\n          var i = list.length, array = new Array(i);\n          while (i--) array[i] = list[i];\n          return array;\n        };\n      }\n    }\n\n    function d3_eventPreventDefault() {\n      d3.event.preventDefault();\n    }\n\n    function d3_vendorSymbol(object, name) {\n      if (name in object) return name;\n      name = name.charAt(0).toUpperCase() + name.slice(1);\n      for (var i = 0, n = d3_vendorPrefixes.length; i < n; ++i) {\n        var prefixName = d3_vendorPrefixes[i] + name;\n        if (prefixName in object) return prefixName;\n      }\n    }\n    var d3_vendorPrefixes = [ \"webkit\", \"ms\", \"moz\", \"Moz\", \"o\", \"O\" ];\n\n    var d3_event_dragSelect = \"onselectstart\" in document ? null : d3_vendorSymbol(document.documentElement.style, \"userSelect\"), d3_event_dragId = 0;\n    function d3_event_dragSuppress(node) {\n      var name = \".dragsuppress-\" + ++d3_event_dragId, click = \"click\" + name, w = d3.select(d3_window(node)).on(\"touchmove\" + name, d3_eventPreventDefault).on(\"dragstart\" + name, d3_eventPreventDefault).on(\"selectstart\" + name, d3_eventPreventDefault);\n      if (d3_event_dragSelect == null) {\n        d3_event_dragSelect = \"onselectstart\" in node ? false : d3_vendorSymbol(node.style, \"userSelect\");\n      }\n      if (d3_event_dragSelect) {\n        var style = d3_documentElement(node).style, select = style[d3_event_dragSelect];\n        style[d3_event_dragSelect] = \"none\";\n      }\n      return function(suppressClick) {\n        w.on(name, null);\n        if (d3_event_dragSelect) style[d3_event_dragSelect] = select;\n        if (suppressClick) {\n          var off = function() {\n            w.on(click, null);\n          };\n          w.on(click, function() {\n            d3_eventPreventDefault();\n            off();\n          }, true);\n          setTimeout(off, 0);\n        }\n      };\n    }\n\n    var event = d3.dispatch(\"brushstart\", \"brush\", \"brushend\"),\n        brushElement,\n        x = null, // x-scale, optional\n        y = null, // y-scale, optional\n        xExtent = [[0, 0]], // [x0, x1] in integer pixels\n        yExtent = [[0, 0]], // [y0, y1] in integer pixels\n        xExtentDomain = [], // x-extent in data space\n        yExtentDomain = [], // y-extent in data space\n        xClamp = true, // whether to clamp the x-extent to the range\n        yClamp = true, // whether to clamp the y-extent to the range\n        resizes = d3_svg_brushResizes[0],\n        resizeAdaption = function () {}, // Function to 'call' on new resize selection\n        extentAdaption = function () {}; // Function to 'call' on new extent selection\n\n    event.of = function(thiz, argumentz) {\n      return function(e1) {\n        try {\n          var e0 =\n          e1.sourceEvent = d3.event;\n          e1.target = brush;\n          d3.event = e1;\n          event[e1.type].apply(thiz, argumentz);\n        } finally {\n          d3.event = e0;\n        }\n      };\n    };\n\n    function brush(g) {\n      g.each(function() {\n\n        // Prepare the brush container for events.\n        var g = d3.select(this)\n            .style(\"pointer-events\", \"all\")\n            .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n            .on(\"mousedown.brush\", brushstart)\n            .on(\"touchstart.brush\", brushstart);\n\n        brushElement = g;\n\n        // An invisible, mouseable area for starting a new brush.\n        var background = g.selectAll(\".background\")\n            .data([0]);\n\n        background.enter().append(\"rect\")\n            .attr(\"class\", \"background\")\n            .style(\"visibility\", \"hidden\")\n            .style(\"cursor\", \"crosshair\");\n\n        drawExtents(g);\n\n        // When called on a transition, use a transition to update.\n        var gUpdate = d3.transition(g),\n            backgroundUpdate = d3.transition(background),\n            range;\n\n        // Initialize the background to fill the defined range.\n        // If the range isn't defined, you can post-process.\n        if (x) {\n          range = d3_scaleRange(x);\n          backgroundUpdate.attr(\"x\", range[0]).attr(\"width\", range[1] - range[0]);\n          redrawX(gUpdate);\n        }\n        if (y) {\n          range = d3_scaleRange(y);\n          backgroundUpdate.attr(\"y\", range[0]).attr(\"height\", range[1] - range[0]);\n          redrawY(gUpdate);\n        }\n        redraw(gUpdate);\n      });\n    }\n\n    function drawExtents(g) {\n      var ex = xExtent.length > yExtent.length ? xExtent : yExtent,\n          i = ex.length\n          extentArr = ex.map(function(d,i) { return i; }),\n          extentResizes = d3.merge(ex.map(function(d,i) { return resizes.map(function(r) { return [r, i]; }); }));\n\n      if(!g) g = brushElement;\n\n      // The visible brush extent; style this as you like!\n      var extent = g.selectAll(\".extent\")\n          .data(extentArr, function (d) { return d; });\n\n      extent.exit().remove();\n\n      extent.enter().append(\"rect\")\n          .attr(\"class\", \"extent\")\n          .style(\"cursor\", \"move\")\n          .call(extentAdaption);\n\n      // More invisible rects for resizing the extent.\n      var resize = g.selectAll(\".resize\")\n          .data(extentResizes, function (d) { return d[0] + d[1]; });\n\n      // Remove any superfluous resizers.\n      resize.exit().remove();\n\n      var newResize = resize.enter().append(\"g\")\n          .attr(\"class\", function(d) { return \"resize \" + d[0]; })\n          .style(\"cursor\", function(d) { return d3_svg_brushCursor[d[0]]; });\n\n      newResize.append(\"rect\")\n          .attr(\"x\", function(d) { return /[ew]$/.test(d[0]) ? -3 : null; })\n          .attr(\"y\", function(d) { return /^[ns]/.test(d[0]) ? -3 : null; })\n          .attr(\"width\", 6)\n          .attr(\"height\", 6)\n          .style(\"visibility\", \"hidden\");\n\n      newResize.call(resizeAdaption);\n\n      // Show or hide the resizers.\n      resize.style(\"display\", function (d) { return brush.empty(d[1]) ? \"none\" : null; });\n    }\n\n    brush.event = function(g) {\n      g.each(function() {\n        var event_ = event.of(this, arguments),\n            extent1 = {x: xExtent, y: yExtent, i: xExtentDomain, j: yExtentDomain},\n            extent0 = this.__chart__ || extent1;\n        this.__chart__ = extent1;\n\tevent_({type: \"brushstart\"});\n\tevent_({type: \"brush\", mode: \"resize\"});\n\tevent_({type: \"brushend\"});\n      });\n    };\n\n    function redraw(g) {\n      g.selectAll(\".resize\").attr(\"transform\", function(d) {\n        return \"translate(\" + xExtent[d[1]][+/e$/.test(d[0])] + \",\" + yExtent[d[1]][+/^s/.test(d[0])] + \")\";\n      });\n    }\n\n    function redrawX(g) {\n      g.selectAll(\".extent\").attr(\"x\", function (d) { return xExtent[d][0]; });\n      g.selectAll(\".extent\").attr(\"width\", function(d) { return xExtent[d][1] - xExtent[d][0]; });\n    }\n\n    function redrawY(g) {\n      g.selectAll(\".extent\").attr(\"y\", function (d) { return yExtent[d][0]; });\n      g.selectAll(\".extent\").attr(\"height\", function (d) { return yExtent[d][1] - yExtent[d][0]; });\n    }\n\n    function brushstart() {\n      var target = this,\n          eventTarget = d3.select(d3.event.target),\n          event_ = event.of(target, arguments),\n          g = d3.select(target),\n          resizing = eventTarget.datum()[0],\n          resizingX = !/^(n|s)$/.test(resizing) && x,\n          resizingY = !/^(e|w)$/.test(resizing) && y,\n          dragging = eventTarget.classed(\"extent\"),\n          dragRestore = d3_event_dragSuppress(target),\n          center,\n          origin = d3.mouse(target),\n          offset,\n          i;\n\n      var w = d3.select(window)\n          .on(\"keydown.brush\", keydown)\n          .on(\"keyup.brush\", keyup);\n\n      if (d3.event.changedTouches) {\n        w.on(\"touchmove.brush\", brushmove).on(\"touchend.brush\", brushend);\n      } else {\n        w.on(\"mousemove.brush\", brushmove).on(\"mouseup.brush\", brushend);\n      }\n\n      // Interrupt the transition, if any.\n      g.interrupt().selectAll(\"*\").interrupt();\n\n      // If the extent was clicked on, drag rather than brush;\n      // store the point between the mouse and extent origin instead.\n      if (dragging) {\n        i = eventTarget.datum();\n        origin[0] = xExtent[i][0] - origin[0];\n        origin[1] = yExtent[i][0] - origin[1];\n      }\n\n      // If a resizer was clicked on, record which side is to be resized.\n      // Also, set the origin to the opposite side.\n      else if (resizing) {\n        var ex = +/w$/.test(resizing),\n            ey = +/^n/.test(resizing);\n\n        i = eventTarget.datum()[1];\n        offset = [xExtent[i][1 - ex] - origin[0], yExtent[i][1 - ey] - origin[1]];\n        origin[0] = xExtent[i][ex];\n        origin[1] = yExtent[i][ey];\n      }\n\n      else {\n        i = xExtent.length - 1; // Figure out the count of the new extent.\n        xExtent.push([0,0]);\n        yExtent.push([0,0]);\n\n        // If the ALT key is down when starting a brush, the center is at the mouse.\n        if (d3.event.altKey) center = origin.slice();\n      }\n\n      // Propagate the active cursor to the body for the drag duration.\n      g.style(\"pointer-events\", \"none\");\n      d3.select(\"body\").style(\"cursor\", eventTarget.style(\"cursor\"));\n\n      // Show resizers as long as we're not dragging or resizing.\n      if(!dragging && !resizing) g.selectAll(\".resize\").style(\"display\", null)\n\n      // Notify listeners.\n      event_({type: \"brushstart\"});\n      brushmove();\n\n      function keydown() {\n        if (d3.event.keyCode == 32) {\n          if (!dragging) {\n            center = null;\n            origin[0] -= xExtent[i][1];\n            origin[1] -= yExtent[i][1];\n            dragging = 2;\n          }\n          d3.event.preventDefault();\n        }\n      }\n\n      function keyup() {\n        if (d3.event.keyCode == 32 && dragging == 2) {\n          origin[0] += xExtent[i][1];\n          origin[1] += yExtent[i][1];\n          dragging = 0;\n          d3.event.preventDefault();\n        }\n      }\n\n      function brushmove() {\n        var point = d3.mouse(target),\n            moved = false;\n\n        // Preserve the offset for thick resizers.\n        if (offset) {\n          point[0] += offset[0];\n          point[1] += offset[1];\n        }\n\n        if (!dragging) {\n\n          // If needed, determine the center from the current extent.\n          if (d3.event.altKey) {\n            if (!center) center = [(xExtent[i][0] + xExtent[i][1]) / 2, (yExtent[i][0] + yExtent[i][1]) / 2];\n\n            // Update the origin, for when the ALT key is released.\n            origin[0] = xExtent[i][+(point[0] < center[0])];\n            origin[1] = yExtent[i][+(point[1] < center[1])];\n          }\n\n          // When the ALT key is released, we clear the center.\n          else center = null;\n        }\n\n        // Update the brush extent for each dimension.\n        if (resizingX && move1(point, x, 0)) {\n          redrawX(g, i);\n          moved = true;\n        }\n        if (resizingY && move1(point, y, 1)) {\n          redrawY(g, i);\n          moved = true;\n        }\n\n        // Final redraw and notify listeners.\n        if (moved) {\n          redraw(g);\n          event_({type: \"brush\", mode: dragging ? \"move\" : \"resize\"});\n        }\n      }\n\n      function move1(point, scale, j) {\n        var range = d3_scaleRange(scale),\n            r0 = range[0],\n            r1 = range[1],\n            position = origin[j],\n            extent = j ? yExtent[i] : xExtent[i],\n            size = extent[1] - extent[0],\n            min,\n            max;\n\n        // When dragging, reduce the range by the extent size and position.\n        if (dragging) {\n          r0 -= position;\n          r1 -= size + position;\n        }\n\n        // Clamp the point (unless clamp set to false) so that the extent fits within the range extent.\n        min = (j ? yClamp : xClamp) ? Math.max(r0, Math.min(r1, point[j])) : point[j];\n\n        // Compute the new extent bounds.\n        if (dragging) {\n          max = (min += position) + size;\n        } else {\n\n          // If the ALT key is pressed, then preserve the center of the extent.\n          if (center) position = Math.max(r0, Math.min(r1, 2 * center[j] - min));\n\n          // Compute the min and max of the position and point.\n          if (position < min) {\n            max = min;\n            min = position;\n          } else {\n            max = position;\n          }\n        }\n\n        // Update the stored bounds.\n        if (extent[0] != min || extent[1] != max) {\n          if (j) yExtentDomain[i] = null;\n          else xExtentDomain[i] = null;\n          extent[0] = min;\n          extent[1] = max;\n          return true;\n        }\n      }\n\n      function brushend() {\n        brushmove();\n\n        // If the current extent is empty, clear everything.\n        if(x && xExtent[i][0] == xExtent[i][1] ||\n           y && yExtent[i][0] == yExtent[i][1]) {\n          brush.clear();\n        }\n\n        // reset the cursor styles\n        g.style(\"pointer-events\", \"all\").selectAll(\".resize\").style(\"display\", function(d) { return brush.empty(d[1]) ? \"none\" : null; });\n        d3.select(\"body\").style(\"cursor\", null);\n\n        w .on(\"mousemove.brush\", null)\n          .on(\"mouseup.brush\", null)\n          .on(\"touchmove.brush\", null)\n          .on(\"touchend.brush\", null)\n          .on(\"keydown.brush\", null)\n          .on(\"keyup.brush\", null);\n\n        drawExtents();\n\n        dragRestore();\n        event_({type: \"brushend\"});\n      }\n    }\n\n    brush.x = function(z) {\n      if (!arguments.length) return x;\n      x = z;\n      resizes = d3_svg_brushResizes[!x << 1 | !y]; // fore!\n      return brush;\n    };\n\n    brush.y = function(z) {\n      if (!arguments.length) return y;\n      y = z;\n      resizes = d3_svg_brushResizes[!x << 1 | !y]; // fore!\n      return brush;\n    };\n\n    brush.resizeAdaption = function(z) {\n      if (!arguments.length) return resizeAdaption;\n      resizeAdaption = z;\n      return brush;\n    }\n\n    brush.extentAdaption = function(z) {\n      if (!arguments.length) return extentAdaption;\n      extentAdaption = z;\n      return brush;\n    }\n\n    brush.clamp = function(z) {\n      if (!arguments.length) return x && y ? [xClamp, yClamp] : x ? xClamp : y ? yClamp : null;\n      if (x && y) xClamp = !!z[0], yClamp = !!z[1];\n      else if (x) xClamp = !!z;\n      else if (y) yClamp = !!z;\n      return brush;\n    };\n\n    brush.extent = function(z) {\n      var x0, x1, y0, y1, t;\n      var xOutput, yOutput, xyOutput = [];\n\n      // Invert the pixel extent to data-space.\n      if (!arguments.length) {\n        if (x) {\n          if (xExtentDomain[0]) {\n            xOutput = xExtentDomain;\n          } else {\n            xOutput = xExtent.map(function (d) {\n              if (x.invert) return [ x.invert(d[0]), x.invert(d[1]) ];\n              return d;\n            }).map(function (d) {\n              if (d[1] < d[0]) return [ d[1], d[0] ];\n              return d;\n            }).filter(function (d) { return d[1] - d[0] != 0; });\n          }\n        }\n        if (y) {\n          if (yExtentDomain[0]) {\n            yOutput = yExtentDomain;\n          } else {\n            yOutput = yExtent.map(function (d) {\n              if(y.invert) return [ y.invert(d[0]), y.invert(d[1]) ];\n              return d;\n            }).map(function (d) {\n              if (d[1] < d[0]) return [ d[1], d[0] ];\n              return d;\n            }).filter(function (d) { return d[1] - d[0] != 0; });\n          }\n        }\n        if(x && y) {\n          xOutput.forEach(function (d, i) {\n            xyOutput.push([[d[0], yOutput[i][0]], [d[1], yOutput[i][1]]]);\n          });\n        }\n        return x && y ? xyOutput : x ? xOutput : y && yOutput;\n      }\n\n      // Scale the data-space extent to pixels.\n      if (x) {\n        xOutput = z;\n        if (y) xOutput = xOutput.map(function (d) {\n          return [d[0][0], d[1][0]];\n        });\n        xExtentDomain = xOutput;\n        xOutput = xOutput.map(function (d) {\n          if (x.invert) return [x(d[0]), x(d[1])];\n          return d;\n        }).map(function (d) {\n          if(d[1] < d[0]) return [d[1], d[0]];\n          return d;\n        });\n        xExtent = xOutput;\n        if(!y) yExtent = xOutput.map(function() { return [0,0]; });\n      }\n      if (y) {\n        yOutput = z;\n        if (x) yOutput = yOutput.map(function (d) {\n          return [d[0][1], d[1][1]];\n        });\n        yExtentDomain = yOutput;\n        yOutput = yOutput.map(function (d) {\n          if (y.invert) return [y(d[0]), y(d[1])];\n          return d;\n        }).map(function (d) {\n          if(d[1] < d[0]) return [d[1], d[0]];\n          return d;\n        });\n        yExtent = yOutput;\n        if(!x) xExtent = yOutput.map(function () { return [0,0]; });\n      }\n\n      // Handle the case where the extents are set to empty arrays.\n      if(xExtent.length === 0) xExtent = [[0,0]];\n      if(yExtent.length === 0) yExtent = [[0,0]];\n\n      return brush;\n    };\n\n    brush.clear = function() {\n      xExtent = [[0, 0]], yExtent = [[0, 0]];\n      xExtentDomain = yExtentDomain = [];\n      drawExtents();\n      if(x) redrawX(brushElement);\n      if(y) redrawY(brushElement);\n      return brush;\n    };\n\n    brush.empty = function(i) {\n    if (this.extent().length === 0) {\n      return true;\n    }\n      if(xExtent.length == 1 && yExtent.length == 1) i = 0;\n      if(i !== undefined) {\n        return !!x && xExtent[i][0] == xExtent[i][1]\n          || !!y && yExtent[i][0] == yExtent[i][1];\n      } else {\n        return false;\n      }\n    };\n\n    return d3.rebind(brush, event, \"on\");\n  };\n\n  var d3_svg_brushCursor = {\n    n: \"ns-resize\",\n    e: \"ew-resize\",\n    s: \"ns-resize\",\n    w: \"ew-resize\",\n    nw: \"nwse-resize\",\n    ne: \"nesw-resize\",\n    se: \"nwse-resize\",\n    sw: \"nesw-resize\"\n  };\n\n  var d3_svg_brushResizes = [\n    [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"],\n    [\"e\", \"w\"],\n    [\"n\", \"s\"],\n    []\n  ];\n})();"]}